<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

    <html xmlns="http://www.w3.org/1999/xhtml">
  
  


  

  <head>
    <title>
      TracInterfaceCustomization (diff) – BioHackathon 2010
    </title>
        <link rel="search" href="/search" />
        <link rel="help" href="/wiki/TracGuide" />
        <link rel="up" href="/wiki/TracInterfaceCustomization?action=history" title="Page history" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="/chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="/chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="/chrome/common/css/diff.css" type="text/css" />
        <link rel="prev" href="/wiki/TracInterfaceCustomization?action=diff&amp;version=1" title="Version 1" />
        <link rel="shortcut icon" href="/chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="/chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Search BioHackathon 2010" />
    <script type="text/javascript" src="/chrome/common/js/jquery.js"></script><script type="text/javascript" src="/chrome/common/js/trac.js"></script><script type="text/javascript" src="/chrome/common/js/search.js"></script><script type="text/javascript" src="/chrome/common/js/diff.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/chrome/common/css/diff.css" /><meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://hackathon3.dbcls.jp/"><img src="http://hackathon3.dbcls.jp/raw-attachment/wiki/LogoGallery/trac_logo.png" alt="DBCLS BioHackathon 2010" width="200" /></a>
      </div>
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/login">Login</a></li><li><a href="/wiki/TracGuide">Help/Guide</a></li><li><a href="/about">About Trac</a></li><li class="last"><a href="/prefs">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="/timeline">Timeline</a></li><li><a href="/roadmap">Roadmap</a></li><li><a href="/browser">Browse Source</a></li><li><a href="/report">View Tickets</a></li><li class="last"><a href="/search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="/wiki/TracInterfaceCustomization?action=diff&amp;version=1" title="Version 1">Previous Change</a></span></li><li><a href="/wiki/TracInterfaceCustomization?action=history" title="Page history">Wiki History</a></li><li class="last"><span class="missing">Next Change &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <h1>Changes
        between
          <a href="/wiki/TracInterfaceCustomization?version=1">Version 1</a> and
        <a href="/wiki/TracInterfaceCustomization?version=2">Version 2</a> of
        <a href="/wiki/TracInterfaceCustomization?version=2">TracInterfaceCustomization</a>
      </h1>
      <form method="post" id="prefs" action="/wiki/TracInterfaceCustomization?version=2"><div><input type="hidden" name="__FORM_TOKEN" value="9b92f779110146561b41c442" /></div>
        <div>
          <input type="hidden" name="action" value="diff" />
          <input type="hidden" name="version" value="2" />
          <input type="hidden" name="old_version" value="1" />
    <label for="style">View differences</label>
    <select id="style" name="style">
      <option selected="selected" value="inline">inline</option>
      <option value="sidebyside">side by side</option>
    </select>
    <div class="field">
      Show <input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
      <label for="contextlines">lines around each change</label>
    </div>
    <fieldset id="ignore">
      <legend>Ignore:</legend>
      <div class="field">
        <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
        <label for="ignoreblanklines">Blank lines</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorecase" name="ignorecase" />
        <label for="ignorecase">Case changes</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
        <label for="ignorewhitespace">White space changes</label>
      </div>
    </fieldset>
    <div class="buttons">
      <input type="submit" name="update" value="Update" />
    </div>
        </div>
      </form>
      <dl id="overview">
        <dt class="property time">Timestamp:</dt>
        <dd class="time">
          2009/12/27 07:22:35 (<a class="timeline" href="/timeline?from=2009-12-27T07%3A22%3A35%2B0900&amp;precision=second" title="2009-12-27T07:22:35+0900 in Timeline">15 years</a> ago)
        </dd>
        <dt class="property author">Author:</dt>
        <dd class="author">
          trac
        </dd>
        <dt class="property message">Comment:</dt>
        <dd class="message">
          
          <p>
--
</p>

        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
            <dt class="mod"></dt><dd>Modified</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file0">
          <a href="/wiki/TracInterfaceCustomization?version=2">TracInterfaceCustomization</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Version 1">
                    <a href="/wiki/TracInterfaceCustomization?version=1#L40">
                      v1</a>
                  </th>
                  <th title="Version 2">
                    <a href="/wiki/TracInterfaceCustomization?version=2#L40">
                      v2</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>40</th><th>40</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>41</th><th>41</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>42</th><th> </th><td class="l"><span>== Site Header &amp; Footer ==</span> </td>
                      </tr><tr>
                        <th>43</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>44</th><th> </th><td class="l"><span>In the environment folder for each Trac project there should be a directory called {{{templates}}}.&nbsp; This folder contains files {{{site_header.cs}}} and {{{site_footer.cs}}}.&nbsp; Users can customize their Trac site by adding the required HTML markup to these files.&nbsp; The content of these two files will be placed immediately following the opening {{{&lt;body&gt;}}} tag and immediately preceding the closing {{{&lt;/body&gt;}}} tag of each page in the site, respectively.</span> </td>
                      </tr><tr>
                        <th>45</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>46</th><th> </th><td class="l"><span>These files may contain static HTML, though if users desire to have dynamically generated content they can make use of the [http://www.clearsilver.net/ ClearSilver] templating language from within the pages as well. When you need to see what variables are available to the template, append the query string `?hdfdump=1` to the URL of your Trac site. This will display a structured view of the template data.</span> </td>
                      </tr><tr>
                        <th>47</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>48</th><th> </th><td class="l"><span>== Site CSS ==</span> </td>
                      </tr><tr>
                        <th>49</th><th> </th><td class="l"><span>The primary means to adjust the layout of a Trac site is to add [http://www.w3.org/TR/REC-CSS2/ CSS] style rules that overlay the default rules. This is best done by editing the `site_css.cs` file in the enviroment's `templates` directory. The content of that template gets inserted into a `&lt;style type="text/css"&gt;&lt;/style&gt;` element on every HTML page generated by Trac.</span> </td>
                      </tr><tr>
                        <th>50</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>51</th><th> </th><td class="l"><span>While you can add your custom style rules directly to the `site_css.cs` file, it is recommended that you simply reference an external style sheet, thereby enabling browsers to cache the CSS file instead of transmitting the rules with every response.</span> </td>
                      </tr><tr>
                        <th>52</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>53</th><th> </th><td class="l"><span>The following example would import a style sheet located in the `style` root directory of your host:</span> </td>
                      </tr><tr>
                        <th>54</th><th> </th><td class="l"><span>{{{</span> </td>
                      </tr><tr>
                        <th>55</th><th> </th><td class="l"><span>@import url(/style/mytrac.css);</span> </td>
                      </tr><tr>
                        <th>56</th><th> </th><td class="l"><span>}}}</span> </td>
                      </tr><tr>
                        <th>57</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>58</th><th> </th><td class="l"><span>You can use a !ClearSilver variable to reference a style sheet stored in the project environment's `htdocs` directory:</span> </td>
                      </tr><tr>
                        <th>59</th><th> </th><td class="l"><span>{{{</span> </td>
                      </tr><tr>
                        <th>60</th><th> </th><td class="l"><span>@import url(&lt;?cs var:chrome.href ?&gt;/site/style.css);</span> </td>
                      </tr><tr>
                        <th>61</th><th> </th><td class="l"><span>}}}</span> </td>
                      </tr><tr>
                        <th>62</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>63</th><th> </th><td class="l"><span>== Project List ==</span> </td>
                      </tr><tr>
                        <th>64</th><th> </th><td class="l"><span>You can use a custom ClearSilver template to display the list of projects if you are using Trac with multiple projects.&nbsp; </span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>42</th><td class="r"><span>== Custom Navigation Entries ==</span> </td>
                      </tr><tr>
                        <th> </th><th>43</th><td class="r"><span>The new [mainnav] and [metanav] can now be used to customize the text and link used for the navigation items, or even to disable them (but not for adding new ones).</span> </td>
                      </tr><tr>
                        <th> </th><th>44</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>45</th><td class="r"><span>In the following example, we rename the link to the Wiki start "Home", and hide the "Help/Guide". We also make the "View Tickets" entry link to a specific report .</span> </td>
                      </tr><tr>
                        <th> </th><th>46</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>47</th><td class="r"><span>[mainnav]</span> </td>
                      </tr><tr>
                        <th> </th><th>48</th><td class="r"><span>wiki.label = Home</span> </td>
                      </tr><tr>
                        <th> </th><th>49</th><td class="r"><span>tickets.href = /report/24</span> </td>
                      </tr><tr>
                        <th> </th><th>50</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>51</th><td class="r"><span>[metanav]</span> </td>
                      </tr><tr>
                        <th> </th><th>52</th><td class="r"><span>help = disabled</span> </td>
                      </tr><tr>
                        <th> </th><th>53</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>54</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>55</th><td class="r"><span>See also TracNavigation for a more detailed explanation of the mainnav and metanav terms.</span> </td>
                      </tr><tr>
                        <th> </th><th>56</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>57</th><td class="r"><span>== Site Appearance == #SiteAppearance</span> </td>
                      </tr><tr>
                        <th> </th><th>58</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>59</th><td class="r"><span>Trac is using [http://genshi.edgewall.org Genshi] as the templating engine. Documentation is yet to be written, in the meantime the following tip should work.</span> </td>
                      </tr><tr>
                        <th> </th><th>60</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>61</th><td class="r"><span>Say you want to add a link to a custom stylesheet, and then your own</span> </td>
                      </tr><tr>
                        <th> </th><th>62</th><td class="r"><span>header and footer. Save the following content as 'site.html' inside your projects templates directory (each Trac project can have their own site.html), e.g. {{{/path/to/env/templates/site.html}}}:</span> </td>
                      </tr><tr>
                        <th> </th><th>63</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>64</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>65</th><td class="r"><span>#!xml</span> </td>
                      </tr><tr>
                        <th> </th><th>66</th><td class="r"><span>&lt;html xmlns="http://www.w3.org/1999/xhtml"</span> </td>
                      </tr><tr>
                        <th> </th><th>67</th><td class="r"><span>&nbsp; &nbsp; &nbsp; xmlns:py="http://genshi.edgewall.org/"</span> </td>
                      </tr><tr>
                        <th> </th><th>68</th><td class="r"><span>&nbsp; &nbsp; &nbsp; py:strip=""&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>69</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>70</th><td class="r"><span>&nbsp; &lt;!--! Add site-specific style sheet --&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>71</th><td class="r"><span>&nbsp; &lt;head py:match="head" py:attrs="select('@*')"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>72</th><td class="r"><span>&nbsp; &nbsp; ${select('*|comment()|text()')}</span> </td>
                      </tr><tr>
                        <th> </th><th>73</th><td class="r"><span>&nbsp; &nbsp; &lt;link rel="stylesheet" type="text/css"</span> </td>
                      </tr><tr>
                        <th> </th><th>74</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; href="${href.chrome('site/style.css')}" /&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>75</th><td class="r"><span>&nbsp; &lt;/head&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>76</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>77</th><td class="r"><span>&nbsp; &lt;body py:match="body" py:attrs="select('@*')"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>78</th><td class="r"><span>&nbsp; &nbsp; &lt;!--! Add site-specific header --&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>79</th><td class="r"><span>&nbsp; &nbsp; &lt;div id="siteheader"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>80</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &lt;!--! Place your header content here... --&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>81</th><td class="r"><span>&nbsp; &nbsp; &lt;/div&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>82</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>83</th><td class="r"><span>&nbsp; &nbsp; ${select('*|text()')}</span> </td>
                      </tr><tr>
                        <th> </th><th>84</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>85</th><td class="r"><span>&nbsp; &nbsp; &lt;!--! Add site-specific footer --&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>86</th><td class="r"><span>&nbsp; &nbsp; &lt;div id="sitefooter"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>87</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &lt;!--! Place your footer content here... --&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>88</th><td class="r"><span>&nbsp; &nbsp; &lt;/div&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>89</th><td class="r"><span>&nbsp; &lt;/body&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>90</th><td class="r"><span>&lt;/html&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>91</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>92</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>93</th><td class="r"><span>Those who are familiar with XSLT may notice that Genshi templates bear some similarities. However, there are some Trac specific features - for example '''${href.chrome('site/style.css')}''' attribute references template placed into environment's ''htdocs/''&nbsp; In a similar fashion '''${chrome.htdocs_location}''' is used to specify common ''htdocs/'' directory from Trac installation.</span> </td>
                      </tr><tr>
                        <th> </th><th>94</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>95</th><td class="r"><span>site.html is one file to contain all your modifications. It usually works by the py:match (element of attribute), and it allows you to modify the page as it renders - the matches hook onto specific sections depending on what it tries to find</span> </td>
                      </tr><tr>
                        <th> </th><th>96</th><td class="r"><span>and modify them. A site.html can contain any number of such py:match sections for whatever you need to modify. This is all [http://genshi.edgewall.org/ Genshi], so the docs on the exact syntax can be found there. </span> </td>
                      </tr><tr>
                        <th> </th><th>97</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>98</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>99</th><td class="r"><span>Example snippet of adding introduction text to the new ticket form (hide when preview):</span> </td>
                      </tr><tr>
                        <th> </th><th>100</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>101</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>102</th><td class="r"><span>#!xml</span> </td>
                      </tr><tr>
                        <th> </th><th>103</th><td class="r"><span>&lt;form py:match="div[@id='content' and @class='ticket']/form" py:attrs="select('@*')"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>104</th><td class="r"><span>&nbsp; &lt;py:if test="req.environ['PATH_INFO'] == '/newticket' and (not 'preview' in req.args)"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>105</th><td class="r"><span>&nbsp; &nbsp; &lt;p&gt;Please make sure to search for existing tickets before reporting a new one!&lt;/p&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>106</th><td class="r"><span>&nbsp; &lt;/py:if&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>107</th><td class="r"><span>&nbsp; ${select('*')} </span> </td>
                      </tr><tr>
                        <th> </th><th>108</th><td class="r"><span>&lt;/form&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>109</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>110</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>111</th><td class="r"><span>This example illustrates a technique of using '''`req.environ['PATH_INFO']`''' to limit scope of changes to one view only. For instance, to make changes in site.html only for timeline and avoid modifying other sections - use&nbsp; ''`req.environ['PATH_INFO'] == '/timeline'`'' condition in &lt;py:if&gt; test.</span> </td>
                      </tr><tr>
                        <th> </th><th>112</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>113</th><td class="r"><span>If the environment is upgraded from 0.10 and a `site_newticket.cs` file already exists, it can actually be loaded by using a workaround - providing it contains no ClearSilver processing. In addition, as only one element can be imported, the content needs some sort of wrapper such as a `&lt;div&gt;` block or other similar parent container. The XInclude namespace must be specified to allow includes, but that can be moved to document root along with the others:</span> </td>
                      </tr><tr>
                        <th> </th><th>114</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>115</th><td class="r"><span>#!xml</span> </td>
                      </tr><tr>
                        <th> </th><th>116</th><td class="r"><span>&lt;form py:match="div[@id='content' and @class='ticket']/form" py:attrs="select('@*')"</span> </td>
                      </tr><tr>
                        <th> </th><th>117</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; xmlns:xi="http://www.w3.org/2001/XInclude"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>118</th><td class="r"><span>&nbsp; &lt;py:if test="req.environ['PATH_INFO'] == '/newticket' and (not 'preview' in req.args)"&gt; </span> </td>
                      </tr><tr>
                        <th> </th><th>119</th><td class="r"><span>&nbsp; &nbsp; &lt;xi:include href="site_newticket.cs"&gt;&lt;xi:fallback /&gt;&lt;/xi:include&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>120</th><td class="r"><span>&nbsp; &lt;/py:if&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>121</th><td class="r"><span>&nbsp; ${select('*')} </span> </td>
                      </tr><tr>
                        <th> </th><th>122</th><td class="r"><span>&lt;/form&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>123</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>124</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>125</th><td class="r"><span>Also note that the `site.html` (despite its name) can be put in a common templates directory - see the `[inherit] templates_dir` option. This could provide easier maintainence (and a migration path from 0.10 for larger installations) as one new global `site.html` file can be made to include any existing header, footer and newticket snippets.</span> </td>
                      </tr><tr>
                        <th> </th><th>126</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>127</th><td class="r"><span>== Project List == #ProjectList</span> </td>
                      </tr><tr>
                        <th> </th><th>128</th><td class="r"><span></span> </td>
                      </tr><tr class="last">
                        <th> </th><th>129</th><td class="r"><span>You can use a custom Genshi template to display the list of projects if you are using Trac with multiple projects.&nbsp; </span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>65</th><th>130</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>66</th><th>131</th><td class="l"><span>The following is the basic template used by Trac to display a list of links to the projects.&nbsp; For projects that could not be loaded it displays an error message. You can use this as a starting point for your own index template.</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/wiki/TracInterfaceCustomization?version=1#L68">…</a></th>
                  <th><a href="/wiki/TracInterfaceCustomization?version=2#L133">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>68</th><th>133</th><td class="l"><span>{{{</span> </td>
                  </tr><tr>
                          <th>69</th><th>134</th><td class="l"><span>#!text/html</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>70</th><th> </th><td class="l"><span>&lt;html&gt;</span> </td>
                      </tr><tr>
                        <th>71</th><th> </th><td class="l"><span>&lt;head&gt;&lt;title&gt;Available Projects&lt;/title&gt;&lt;/head&gt;</span> </td>
                      </tr><tr>
                        <th>72</th><th> </th><td class="l"><span>&lt;body&gt;</span> </td>
                      </tr><tr>
                        <th>73</th><th> </th><td class="l"><span>&nbsp;&lt;h1&gt;Available Projects&lt;/h1&gt;</span> </td>
                      </tr><tr>
                        <th>74</th><th> </th><td class="l"><span>&nbsp;&lt;ul&gt;&lt;?cs</span> </td>
                      </tr><tr>
                        <th>75</th><th> </th><td class="l"><span>&nbsp;each:project = projects ?&gt;&lt;li&gt;&lt;?cs</span> </td>
                      </tr><tr>
                        <th>76</th><th> </th><td class="l"><span>&nbsp; if:project.href ?&gt;</span> </td>
                      </tr><tr>
                        <th>77</th><th> </th><td class="l"><span>&nbsp; &nbsp;&lt;a href="&lt;?cs var:project.href ?&gt;" title="&lt;?cs var:project.description ?&gt;"&gt;</span> </td>
                      </tr><tr>
                        <th>78</th><th> </th><td class="l"><span>&nbsp; &nbsp; &lt;?cs var:project.name ?&gt;&lt;/a&gt;&lt;?cs</span> </td>
                      </tr><tr>
                        <th>79</th><th> </th><td class="l"><span>&nbsp; else ?&gt;</span> </td>
                      </tr><tr>
                        <th>80</th><th> </th><td class="l"><span>&nbsp; &nbsp;&lt;small&gt;&lt;?cs var:project.name ?&gt;: &lt;em&gt;Error&lt;/em&gt; &lt;br /&gt;</span> </td>
                      </tr><tr>
                        <th>81</th><th> </th><td class="l"><span>&nbsp; &nbsp;(&lt;?cs var:project.description ?&gt;)&lt;/small&gt;&lt;?cs</span> </td>
                      </tr><tr>
                        <th>82</th><th> </th><td class="l"><span>&nbsp; /if ?&gt;</span> </td>
                      </tr><tr>
                        <th>83</th><th> </th><td class="l"><span>&nbsp; &lt;/li&gt;&lt;?cs</span> </td>
                      </tr><tr>
                        <th>84</th><th> </th><td class="l"><span>&nbsp;/each ?&gt;</span> </td>
                      </tr><tr>
                        <th>85</th><th> </th><td class="l"><span>&nbsp;&lt;/ul&gt;</span> </td>
                      </tr><tr>
                        <th>86</th><th> </th><td class="l"><span>&lt;/body&gt;</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>135</th><td class="r"><span>&lt;!DOCTYPE html</span> </td>
                      </tr><tr>
                        <th> </th><th>136</th><td class="r"><span>&nbsp; &nbsp; PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</span> </td>
                      </tr><tr>
                        <th> </th><th>137</th><td class="r"><span>&nbsp; &nbsp; "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>138</th><td class="r"><span>&lt;html xmlns="http://www.w3.org/1999/xhtml"</span> </td>
                      </tr><tr>
                        <th> </th><th>139</th><td class="r"><span>&nbsp; &nbsp; &nbsp; xmlns:py="http://genshi.edgewall.org/"</span> </td>
                      </tr><tr>
                        <th> </th><th>140</th><td class="r"><span>&nbsp; &nbsp; &nbsp; xmlns:xi="http://www.w3.org/2001/XInclude"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>141</th><td class="r"><span>&nbsp; &lt;head&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>142</th><td class="r"><span>&nbsp; &nbsp; &lt;title&gt;Available Projects&lt;/title&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>143</th><td class="r"><span>&nbsp; &lt;/head&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>144</th><td class="r"><span>&nbsp; &lt;body&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>145</th><td class="r"><span>&nbsp; &nbsp; &lt;h1&gt;Available Projects&lt;/h1&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>146</th><td class="r"><span>&nbsp; &nbsp; &lt;ul&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>147</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &lt;li py:for="project in projects" py:choose=""&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>148</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;a py:when="project.href" href="$project.href"</span> </td>
                      </tr><tr>
                        <th> </th><th>149</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;title="$project.description"&gt;$project.name&lt;/a&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>150</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;py:otherwise&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>151</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;small&gt;$project.name: &lt;em&gt;Error&lt;/em&gt; &lt;br /&gt; ($project.description)&lt;/small&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>152</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/py:otherwise&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>153</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &lt;/li&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>154</th><td class="r"><span>&nbsp; &nbsp; &lt;/ul&gt;</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>155</th><td class="r"><span>&nbsp; &lt;/body&gt;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>87</th><th>156</th><td class="l"><span>&lt;/html&gt;</span> </td>
                  </tr><tr>
                          <th>88</th><th>157</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>89</th><th>158</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>90</th><th> </th><td class="l"><span>Once you've created your custom template you will need to configure the webserver to tell Trac where the template is located<del></del>:</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>159</th><td class="r"><span>Once you've created your custom template you will need to configure the webserver to tell Trac where the template is located<ins>&nbsp;(pls verify ... not yet changed to 0.11)</ins>:</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>91</th><th>160</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>92</th><th>161</th><td class="l"><span>For [wiki:TracFastCgi FastCGI]:</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/wiki/TracInterfaceCustomization?version=1#L98">…</a></th>
                  <th><a href="/wiki/TracInterfaceCustomization?version=2#L167">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>98</th><th>167</th><td class="l"><span>For [wiki:TracModPython mod_python]:</span> </td>
                  </tr><tr>
                          <th>99</th><th>168</th><td class="l"><span>{{{</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>169</th><td class="r"><ins>PythonOption TracEnvParentDir /parent/dir/of/projects</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>100</th><th>170</th><td class="l"><span>PythonOption TracEnvIndexTemplate /path/to/template</span> </td>
                  </tr><tr>
                          <th>101</th><th>171</th><td class="l"><span>}}}</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/wiki/TracInterfaceCustomization?version=1#L106">…</a></th>
                  <th><a href="/wiki/TracInterfaceCustomization?version=2#L176">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>106</th><th>176</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>107</th><th>177</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>108</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>109</th><th> </th><td class="l"><span>== Main Templates ==</span> </td>
                      </tr><tr>
                        <th>110</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>111</th><th> </th><td class="l"><span>It is also possible to use your own modified versions of the Trac [http://www.clearsilver.net/ ClearSilver] templates. Note though that this technique is not recommended because it makes upgrading Trac rather problematic: there are unfortunately several dependencies between the templates and the application code, such as the name of form fields and the structure of the template data, and these are likely to change between different versions of Trac.</span> </td>
                      </tr><tr>
                        <th>112</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>113</th><th> </th><td class="l"><span>If you absolutely need to use modified templates, copy the template files from the default templates directory (usually in found in `$prefix/share/trac/templates`) into the `templates` directory of the project environment. Then modify those copies to get the desired results.</span> </td>
                      </tr><tr>
                        <th>114</th><th> </th><td class="l"><span></span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>178</th><td class="r"><span>For [wiki:TracStandalone], you'll need to set up the `TRAC_ENV_INDEX_TEMPLATE` environment variable in the shell used to launch tracd:</span> </td>
                      </tr><tr>
                        <th> </th><th>179</th><td class="r"><span>&nbsp;- Unix</span> </td>
                      </tr><tr>
                        <th> </th><th>180</th><td class="r"><span>&nbsp; &nbsp;{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>181</th><td class="r"><span>#!sh</span> </td>
                      </tr><tr>
                        <th> </th><th>182</th><td class="r"><span>$ export TRAC_ENV_INDEX_TEMPLATE=/path/to/template</span> </td>
                      </tr><tr>
                        <th> </th><th>183</th><td class="r"><span>&nbsp; &nbsp;}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>184</th><td class="r"><span>&nbsp;- Windows</span> </td>
                      </tr><tr>
                        <th> </th><th>185</th><td class="r"><span>&nbsp; &nbsp;{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>186</th><td class="r"><span>#!sh</span> </td>
                      </tr><tr>
                        <th> </th><th>187</th><td class="r"><span>$ set TRAC_ENV_INDEX_TEMPLATE=/path/to/template</span> </td>
                      </tr><tr>
                        <th> </th><th>188</th><td class="r"><span>&nbsp; &nbsp;}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>189</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>190</th><td class="r"><span>== Project Templates ==</span> </td>
                      </tr><tr>
                        <th> </th><th>191</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>192</th><td class="r"><span>The appearance of each individual Trac environment (that is, instance of a project) can be customized independently of other projects, even those hosted by the same server. The recommended way is to use a `site.html` template (see [#SiteAppearance]) whenever possible. Using `site.html` means changes are made to the original templates as they are rendered, and you should not normally need to redo modifications whenever Trac is upgraded. If you do make a copy of `theme.html` or any other Trac template, you need to migrate your modifiations to the newer version - if not, new Trac features or bug fixes may not work as expected.</span> </td>
                      </tr><tr>
                        <th> </th><th>193</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>194</th><td class="r"><span>With that word of caution, any Trac template may be copied and customized. The default Trac templates are located inside the installed Trac egg (`/usr/lib/pythonVERSION/site-packages/Trac-VERSION.egg/trac/templates, .../trac/ticket/templates, .../trac/wiki/templates, ++`). The [#ProjectList] template file is called `index.html`, while the template responsible for main layout is called `theme.html`. Page assets such as images and CSS style sheets are located in the egg's `trac/htdocs` directory.</span> </td>
                      </tr><tr>
                        <th> </th><th>195</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>196</th><td class="r"><span>However, do not edit templates or site resources inside the Trac egg - installing Trac again can completely delete your modifications. Instead use one of two alternatives:</span> </td>
                      </tr><tr>
                        <th> </th><th>197</th><td class="r"><span>&nbsp;* For a modification to one project only, copy the template to project `templates` directory.</span> </td>
                      </tr><tr>
                        <th> </th><th>198</th><td class="r"><span>&nbsp;* For a modification shared by several projects, copy the template to a shared location and have each project point to this location using the `[inherit] templates_dir =` trac.ini option.</span> </td>
                      </tr><tr>
                        <th> </th><th>199</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>200</th><td class="r"><span>Trac resolves requests for a template by first looking inside the project, then in any inherited templates location, and finally inside the Trac egg.</span> </td>
                      </tr><tr>
                        <th> </th><th>201</th><td class="r"><span></span> </td>
                      </tr><tr class="last">
                        <th> </th><th>202</th><td class="r"><span>Trac caches templates in memory by default to improve performance. To apply a template you need to restart the server.</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>115</th><th>203</th><td class="l"><span>----</span> </td>
                  </tr><tr>
                          <th>116</th><th>204</th><td class="l"><span>See also TracGuide, TracIni</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
      </div>
  </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="/about"><strong>Trac 0.11.6</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>

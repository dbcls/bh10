<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

    <html xmlns="http://www.w3.org/1999/xhtml">
  
  


  

  <head>
    <title>
      TracStandalone (diff) – BioHackathon 2010
    </title>
        <link rel="search" href="../search.1.html" />
        <link rel="help" href="TracGuide.html" />
        <link rel="up" href="TracStandalone@action=history.html" title="Page history" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/diff.css" type="text/css" />
        <link rel="prev" href="http://hackathon3.dbcls.jp/wiki/TracStandalone?action=diff&amp;version=1" title="Version 1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search BioHackathon 2010" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="http://hackathon3.dbcls.jp/chrome/common/js/diff.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="../chrome/common/css/diff.css" /><meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../index.html"><img src="http://hackathon3.dbcls.jp/raw-attachment/wiki/LogoGallery/trac_logo.png" alt="DBCLS BioHackathon 2010" width="200" /></a>
      </div>
      <form id="search" action="../search.1.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://hackathon3.dbcls.jp/login">Login</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../prefs.html">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="../wiki.1.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li><a href="../browser.html">Browse Source</a></li><li><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.1.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="http://hackathon3.dbcls.jp/wiki/TracStandalone?action=diff&amp;version=1" title="Version 1">Previous Change</a></span></li><li><a href="TracStandalone@action=history.html" title="Page history">Wiki History</a></li><li class="last"><span class="missing">Next Change &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <h1>Changes
        between
          <a href="TracStandalone@version=1.html">Version 1</a> and
        <a href="TracStandalone@version=2.html">Version 2</a> of
        <a href="TracStandalone@version=2.html">TracStandalone</a>
      </h1>
      <form method="post" id="prefs" action="TracStandalone@version=2.html"><div><input type="hidden" name="__FORM_TOKEN" value="9b92f779110146561b41c442" /></div>
        <div>
          <input type="hidden" name="action" value="diff" />
          <input type="hidden" name="version" value="2" />
          <input type="hidden" name="old_version" value="1" />
    <label for="style">View differences</label>
    <select id="style" name="style">
      <option selected="selected" value="inline">inline</option>
      <option value="sidebyside">side by side</option>
    </select>
    <div class="field">
      Show <input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
      <label for="contextlines">lines around each change</label>
    </div>
    <fieldset id="ignore">
      <legend>Ignore:</legend>
      <div class="field">
        <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
        <label for="ignoreblanklines">Blank lines</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorecase" name="ignorecase" />
        <label for="ignorecase">Case changes</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
        <label for="ignorewhitespace">White space changes</label>
      </div>
    </fieldset>
    <div class="buttons">
      <input type="submit" name="update" value="Update" />
    </div>
        </div>
      </form>
      <dl id="overview">
        <dt class="property time">Timestamp:</dt>
        <dd class="time">
          2009/12/27 07:22:33 (<a class="timeline" href="../timeline@from=2009-12-27T07%253A22%253A33+0900&amp;precision=second.html" title="2009-12-27T07:22:33+0900 in Timeline">15 years</a> ago)
        </dd>
        <dt class="property author">Author:</dt>
        <dd class="author">
          trac
        </dd>
        <dt class="property message">Comment:</dt>
        <dd class="message">
          
          <p>
--
</p>

        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
            <dt class="mod"></dt><dd>Modified</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file0">
          <a href="TracStandalone@version=2.html">TracStandalone</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Version 1">
                    <a href="TracStandalone@version=1.html#L8">
                      v1</a>
                  </th>
                  <th title="Version 2">
                    <a href="TracStandalone@version=2.html#L8">
                      v2</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>8</th><th>8</th><td class="l"><span>&nbsp;* Fast: Should be almost as fast as the [wiki:TracModPython mod_python] version (and much faster than the [wiki:TracCgi CGI]).</span> </td>
                  </tr><tr>
                          <th>9</th><th>9</th><td class="l"><span>&nbsp;* Automatic reloading: For development, Tracd can be used in ''auto_reload'' mode, which will automatically restart the server whenever you make a change to the code (in Trac itself or in a plugin).</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>10</th><td class="r"><ins>&nbsp; * Options for tracd: `-r, --auto-reload`</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>10</th><th>11</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>11</th><th>12</th><td class="l"><span>== Cons ==</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracStandalone@version=1.html#L21">…</a></th>
                  <th><a href="TracStandalone@version=2.html#L22">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>21</th><th>22</th><td class="l"><span>&nbsp;$ tracd -p 8080 /path/to/project</span> </td>
                  </tr><tr>
                          <th>22</th><th>23</th><td class="l"><span>}}}</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>24</th><td class="r"><ins>Stricly speaking this will make your Trac accessible to everybody from your network rather than ''localhost only''. To truly limit it use ''--hostname'' option.</ins> </td>
                  </tr><tr>
                          <th> </th><th>25</th><td class="r"><ins>{{{</ins> </td>
                  </tr><tr>
                          <th> </th><th>26</th><td class="r"><ins>&nbsp;$ tracd --hostname=localhost -p 8080 /path/to/project</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>27</th><td class="r"><ins>}}}</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>23</th><th>28</th><td class="l"><span>With more than one project. (http://localhost:8080/project1/ and http://localhost:8080/project2/)</span> </td>
                  </tr><tr>
                          <th>24</th><th>29</th><td class="l"><span>{{{</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracStandalone@version=1.html#L34">…</a></th>
                  <th><a href="TracStandalone@version=2.html#L39">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>34</th><th>39</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>35</th><th>40</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>41</th><td class="r"><ins>To exit the server on Windows, be sure to use {{{CTRL-BREAK}}} -- using {{{CTRL-C}}} will leave a Python process running in the background.</ins> </td>
                  </tr><tr>
                          <th> </th><th>42</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>43</th><td class="r"><ins>== Installing as a Windows Service ==</ins> </td>
                  </tr><tr>
                          <th> </th><th>44</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>45</th><td class="r"><ins>To install as a Windows service, get the [http://www.google.com/search?q=srvany.exe SRVANY] utility and run:</ins> </td>
                  </tr><tr>
                          <th> </th><th>46</th><td class="r"><ins>{{{</ins> </td>
                  </tr><tr>
                          <th> </th><th>47</th><td class="r"><ins>&nbsp;C:\path\to\instsrv.exe tracd C:\path\to\srvany.exe</ins> </td>
                  </tr><tr>
                          <th> </th><th>48</th><td class="r"><ins>&nbsp;reg add HKLM\SYSTEM\CurrentControlSet\Services\tracd\Parameters /v Application /d "\"C:\path\to\python.exe\" \"C:\path\to\python\scripts\tracd-script.py\" &lt;your tracd parameters&gt;"</ins> </td>
                  </tr><tr>
                          <th> </th><th>49</th><td class="r"><ins>&nbsp;net start tracd</ins> </td>
                  </tr><tr>
                          <th> </th><th>50</th><td class="r"><ins>}}}</ins> </td>
                  </tr><tr>
                          <th> </th><th>51</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>52</th><td class="r"><ins>'''DO NOT''' use {{{tracd.exe}}}.&nbsp; Instead register {{{python.exe}}} directly with {{{tracd-script.py}}} as a parameter.&nbsp; If you use {{{tracd.exe}}}, it will spawn the python process without SRVANY's knowledge.&nbsp; This python process will survive a {{{net stop tracd}}}.</ins> </td>
                  </tr><tr>
                          <th> </th><th>53</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>54</th><td class="r"><ins>If you want tracd to start automatically when you boot Windows, do:</ins> </td>
                  </tr><tr>
                          <th> </th><th>55</th><td class="r"><ins>{{{</ins> </td>
                  </tr><tr>
                          <th> </th><th>56</th><td class="r"><ins>&nbsp;sc config tracd start= auto</ins> </td>
                  </tr><tr>
                          <th> </th><th>57</th><td class="r"><ins>}}}</ins> </td>
                  </tr><tr>
                          <th> </th><th>58</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>59</th><td class="r"><ins>The spacing here is important.</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>60</th><td class="r"><ins></ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>36</th><th>61</th><td class="l"><span>== Using Authentication ==</span> </td>
                  </tr><tr>
                          <th>37</th><th>62</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>38</th><th> </th><td class="l"><span>Tracd provides support for both Basic and Digest authentication. The default is to use Digest; to use Basic authentication, replace `--auth` with `--basic-auth` in the examples below, and omit the realm.</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>63</th><td class="r"><span>Using tracd with Apache .htpasswd files:</span> </td>
                      </tr><tr>
                        <th> </th><th>64</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>65</th><td class="r"><span>To create a .htpasswd file using htpasswd:</span> </td>
                      </tr><tr>
                        <th> </th><th>66</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>67</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>68</th><td class="r"><span>&nbsp;$ sudo htpasswd -c /path/to/env/.htpasswd username</span> </td>
                      </tr><tr>
                        <th> </th><th>69</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>70</th><td class="r"><span>then for additional users:</span> </td>
                      </tr><tr>
                        <th> </th><th>71</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>72</th><td class="r"><span>&nbsp;$ sudo htpasswd /path/to/env/.htpasswd username2</span> </td>
                      </tr><tr>
                        <th> </th><th>73</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>74</th><td class="r"><span>then for starting the tracd (on windows skip the "=" after --basic-auth):</span> </td>
                      </tr><tr>
                        <th> </th><th>75</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>76</th><td class="r"><span>&nbsp;$ tracd -p 8080 --basic-auth=environmentname,/fullpath/environmentname/.htpasswd,/fullpath/environmentname /fullpath/environmentname</span> </td>
                      </tr><tr>
                        <th> </th><th>77</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>78</th><td class="r"><span></span> </td>
                      </tr><tr class="last">
                        <th> </th><th>79</th><td class="r"><span>Tracd provides support for both Basic and Digest authentication. The default is to use Digest; to use Basic authentication, replace `--auth` with `--basic-auth` in the examples below. (You must still specify a dialogic "realm", which can be an empty string by trailing the BASICAUTH with a comma.)</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>39</th><th>80</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>40</th><th>81</th><td class="l"><span>&nbsp; ''Support for Basic authentication was added in version 0.9.''</span> </td>
                  </tr><tr>
                          <th>41</th><th>82</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>42</th><th> </th><td class="l"><span>If the file `/path/to/users.htdigest` contains user accounts for project1 with the realm "mycompany.com", you'd use the following command-line to start tracd:</span> </td>
                      </tr><tr>
                        <th>43</th><th> </th><td class="l"><span>{{{</span> </td>
                      </tr><tr>
                        <th>44</th><th> </th><td class="l"><span>&nbsp;$ tracd -p 8080 --auth project1,/path/to/users.htdigest,mycompany.com /path/to/project1</span> </td>
                      </tr><tr>
                        <th>45</th><th> </th><td class="l"><span>}}}</span> </td>
                      </tr><tr>
                        <th>46</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>47</th><th> </th><td class="l"><span>'''Note''': the project "name" passed to the `--auth` option is the base name of the project environment directory.</span> </td>
                      </tr><tr>
                        <th>48</th><th> </th><td class="l"><span></span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>83</th><td class="r"><span>The general format for using authentication is (on windows skip the "=" after --auth):</span> </td>
                      </tr><tr>
                        <th> </th><th>84</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>85</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>86</th><td class="r"><span>&nbsp;$ tracd -p port --auth=base_project_dir,password_file_path,realm project_path</span> </td>
                      </tr><tr>
                        <th> </th><th>87</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>88</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>89</th><td class="r"><span>where:</span> </td>
                      </tr><tr>
                        <th> </th><th>90</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>91</th><td class="r"><span>&nbsp;* '''base_project_dir''' is the base directory of the project; note: this doesn't refer to the project name, and it is case-sensitive even for windows environments</span> </td>
                      </tr><tr>
                        <th> </th><th>92</th><td class="r"><span>&nbsp;* '''password_file_path''' path of the password file</span> </td>
                      </tr><tr>
                        <th> </th><th>93</th><td class="r"><span>&nbsp;* '''realm''' realm</span> </td>
                      </tr><tr>
                        <th> </th><th>94</th><td class="r"><span>&nbsp;* '''project_path''' path of the project</span> </td>
                      </tr><tr>
                        <th> </th><th>95</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>96</th><td class="r"><span>Example (on windows skip the "=" after --auth):</span> </td>
                      </tr><tr>
                        <th> </th><th>97</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>98</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>99</th><td class="r"><span>&nbsp;$ tracd -p 8080 \</span> </td>
                      </tr><tr>
                        <th> </th><th>100</th><td class="r"><span>&nbsp; &nbsp;--auth=project1,/path/to/users.htdigest,mycompany.com /path/to/project1</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>101</th><td class="r"><span>}}}</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>49</th><th>102</th><td class="l"><span>Of course, the digest file can be be shared so that it is used for more than one project:</span> </td>
                  </tr><tr>
                          <th>50</th><th>103</th><td class="l"><span>{{{</span> </td>
                  </tr><tr>
                          <th>51</th><th>104</th><td class="l"><span>&nbsp;$ tracd -p 8080 \</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>52</th><th> </th><td class="l"><span>&nbsp; &nbsp;--auth<del>&nbsp;</del>project1,/path/to/users.htdigest,mycompany.com \</span> </td>
                      </tr><tr>
                        <th>53</th><th> </th><td class="l"><span>&nbsp; &nbsp;--auth<del>&nbsp;</del>project2,/path/to/users.htdigest,mycompany.com \</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>105</th><td class="r"><span>&nbsp; &nbsp;--auth<ins>=</ins>project1,/path/to/users.htdigest,mycompany.com \</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>106</th><td class="r"><span>&nbsp; &nbsp;--auth<ins>=</ins>project2,/path/to/users.htdigest,mycompany.com \</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>54</th><th>107</th><td class="l"><span>&nbsp; &nbsp;/path/to/project1 /path/to/project2</span> </td>
                  </tr><tr>
                          <th>55</th><th>108</th><td class="l"><span>}}}</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracStandalone@version=1.html#L59">…</a></th>
                  <th><a href="TracStandalone@version=2.html#L112">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>59</th><th>112</th><td class="l"><span>{{{</span> </td>
                  </tr><tr>
                          <th>60</th><th>113</th><td class="l"><span>&nbsp;$ tracd -p 8080 \</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>61</th><th> </th><td class="l"><span>&nbsp; &nbsp;--auth<del>&nbsp;*</del>,/path/to/users.htdigest,mycompany.com \</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>114</th><td class="r"><span>&nbsp; &nbsp;--auth<ins>="*"</ins>,/path/to/users.htdigest,mycompany.com \</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>62</th><th>115</th><td class="l"><span>&nbsp; &nbsp;/path/to/project1 /path/to/project2</span> </td>
                  </tr><tr>
                          <th>63</th><th>116</th><td class="l"><span>}}}</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>117</th><td class="r"><ins>If using the `-s` parameter for serving a Trac environment from the root of a domain, one must use `*` for the project name</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>64</th><th>118</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>65</th><th>119</th><td class="l"><span>== How to set up an htdigest password file ==</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracStandalone@version=1.html#L74">…</a></th>
                  <th><a href="TracStandalone@version=2.html#L128">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>74</th><th>128</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>75</th><th>129</th><td class="l"><span>{{{</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>130</th><td class="r"><ins>#!python</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>76</th><th>131</th><td class="l"><span>from optparse import OptionParser</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>77</th><th> </th><td class="l"><span>import md5</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>132</th><td class="r"><span># The md5 module is deprecated in Python 2.5</span> </td>
                      </tr><tr>
                        <th> </th><th>133</th><td class="r"><span>try:</span> </td>
                      </tr><tr>
                        <th> </th><th>134</th><td class="r"><span>&nbsp; &nbsp; from hashlib import md5</span> </td>
                      </tr><tr>
                        <th> </th><th>135</th><td class="r"><span>except ImportError:</span> </td>
                      </tr><tr>
                        <th> </th><th>136</th><td class="r"><span>&nbsp; &nbsp; from md5 import md5</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>137</th><td class="r"><span>realm = 'trac'</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>78</th><th>138</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>79</th><th>139</th><td class="l"><span># build the options</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracStandalone@version=1.html#L84">…</a></th>
                  <th><a href="TracStandalone@version=2.html#L144">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>84</th><th>144</th><td class="l"><span>parser.add_option("-p", "--password",action="store", dest="password", type = "string",</span> </td>
                  </tr><tr>
                          <th>85</th><th>145</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; help="the password to use")</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>146</th><td class="r"><ins>parser.add_option("-r", "--realm",action="store", dest="realm", type = "string",</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>147</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; help="the realm in which to create the digest")</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>86</th><th>148</th><td class="l"><span>(options, args) = parser.parse_args()</span> </td>
                  </tr><tr>
                          <th>87</th><th>149</th><td class="l"><span></span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracStandalone@version=1.html#L89">…</a></th>
                  <th><a href="TracStandalone@version=2.html#L151">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>89</th><th>151</th><td class="l"><span>if (options.username is None) or (options.password is None):</span> </td>
                  </tr><tr>
                          <th>90</th><th>152</th><td class="l"><span>&nbsp; &nbsp;parser.error("You must supply both the username and password")</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>153</th><td class="r"><ins>if (options.realm is not None):</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>154</th><td class="r"><ins>&nbsp; &nbsp;realm = options.realm</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>91</th><th>155</th><td class="l"><span>&nbsp; &nbsp;</span> </td>
                  </tr><tr>
                          <th>92</th><th>156</th><td class="l"><span># Generate the string to enter into the htdigest file</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>93</th><th> </th><td class="l"><span>realm = 'trac'</span> </td>
                      </tr><tr>
                        <th>94</th><th> </th><td class="l"><span>kd = lambda x: md5.md5(':'.join(x)).hexdigest()</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>157</th><td class="r"><span>kd = lambda x: md5(':'.join(x)).hexdigest()</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>95</th><th>158</th><td class="l"><span>print ':'.join((options.username, realm, kd([options.username, realm, options.password])))</span> </td>
                  </tr><tr>
                          <th>96</th><th>159</th><td class="l"><span>}}}</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracStandalone@version=1.html#L99">…</a></th>
                  <th><a href="TracStandalone@version=2.html#L162">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>99</th><th>162</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>100</th><th>163</th><td class="l"><span>{{{</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>101</th><th> </th><td class="l"><span>python trac-digest.py -u username -p password &gt;&gt; c:\digest.txt</span> </td>
                      </tr><tr>
                        <th>102</th><th> </th><td class="l"><span>python tracd --port 8000 --auth proj_name,c:\digest.txt,trac c:\path\to\proj_name</span> </td>
                      </tr><tr>
                        <th>103</th><th> </th><td class="l"><span>}}}</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>164</th><td class="r"><span>&nbsp;$ python trac-digest.py -u username -p password &gt;&gt; c:\digest.txt</span> </td>
                      </tr><tr>
                        <th> </th><th>165</th><td class="r"><span>&nbsp;$ tracd --port 8000 --auth=proj_name,c:\digest.txt,trac c:\path\to\proj_name</span> </td>
                      </tr><tr>
                        <th> </th><th>166</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>167</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>168</th><td class="r"><span>Note: If you would like to use --basic-auth you need to use htpasswd tool from apache server to generate .htpasswd file. The remaining part is similar but make sure to use empty realm (i.e. coma after path). When using on Windows make sure to use -m option for it (did not tested it on *nix, so not sure if that is the case there).&nbsp; If you do not have Apache, [trac:source:/tags/trac-0.11b2/contrib/htpasswd.py htpasswd.py] may help.&nbsp; (Note that it requires a `crypt` or `fcrypt` module; see the source comments for details.)</span> </td>
                      </tr><tr>
                        <th> </th><th>169</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>170</th><td class="r"><span>It is possible to use md5sum utility to generate digest-password file using such method:</span> </td>
                      </tr><tr>
                        <th> </th><th>171</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>172</th><td class="r"><span>&nbsp;$ printf "${user}:trac:${password}" | md5sum - &gt;&gt;user.htdigest</span> </td>
                      </tr><tr>
                        <th> </th><th>173</th><td class="r"><span>}}}</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>174</th><td class="r"><span>and manually delete " -" from the end and add "${user}:trac:" to the start of line from 'to-file'.</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>104</th><th>175</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>105</th><th>176</th><td class="l"><span>== Tips ==</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracStandalone@version=1.html#L119">…</a></th>
                  <th><a href="TracStandalone@version=2.html#L190">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>119</th><th>190</th><td class="l"><span>in the Wiki: `[/&lt;project_name&gt;/chrome/site/software-0.1.tar.gz]` </span> </td>
                  </tr><tr>
                          <th>120</th><th>191</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>121</th><th> </th><td class="l"><span><del>The development version of</del> Trac supports a new `htdocs:` TracLinks </span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>192</th><td class="r"><span><ins>Since 0.10,</ins> Trac supports a new `htdocs:` TracLinks </span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>122</th><th>193</th><td class="l"><span>syntax for the above. With this, the example link above can be written simply </span> </td>
                  </tr><tr>
                          <th>123</th><th>194</th><td class="l"><span>`htdocs:software-0.1.tar.gz`. </span> </td>
                  </tr><tr>
                          <th>124</th><th>195</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>196</th><td class="r"><ins>=== Using apache rewrite rules ===</ins> </td>
                  </tr><tr>
                          <th> </th><th>197</th><td class="r"><ins>In some situations when you choose to use tracd behind apache, you might experience issues with redirects, like being redirected to URLs with the wrong host or protocol. In this case (and only in this case), setting the `[trac] use_base_url_for_redirect` to `true` can help, as this will force Trac to use the value of `[trac] base_url` for doing the redirects.</ins> </td>
                  </tr><tr>
                          <th> </th><th>198</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>199</th><td class="r"><ins>=== Serving a different base path than / ===</ins> </td>
                  </tr><tr>
                          <th> </th><th>200</th><td class="r"><ins>Tracd supports serving projects with different base urls than /&lt;project&gt;. The parameter name to change this is</ins> </td>
                  </tr><tr>
                          <th> </th><th>201</th><td class="r"><ins>{{{</ins> </td>
                  </tr><tr>
                          <th> </th><th>202</th><td class="r"><ins>&nbsp;$ tracd --base-path=/some/path</ins> </td>
                  </tr><tr>
                          <th> </th><th>203</th><td class="r"><ins>}}}</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>204</th><td class="r"><ins></ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>125</th><th>205</th><td class="l"><span>----</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>126</th><th> </th><td class="l"><span>See also: TracInstall, TracCgi, TracModPython, TracGuide</span> </td>
                      </tr><tr>
                        <th>127</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>128</th><th> </th><td class="l"><span>----</span> </td>
                      </tr><tr>
                        <th>129</th><th> </th><td class="l"><span>'''Translation:'''</span> </td>
                      </tr><tr>
                        <th>130</th><th> </th><td class="l"><span>&nbsp;* [https://opensvn.csie.org/traccgi/trac_rus/wiki/StandAloneTracForTeapot Russian] (перевод на Русский)</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>206</th><td class="r"><span>See also: TracInstall, TracCgi, TracModPython, TracGuide, [trac:TracOnWindowsStandalone?version=13#RunningTracdasservice Running tracd.exe as a Windows service]</span> </td>
                      </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
      </div>
  </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../about.html"><strong>Trac 0.11.6</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
